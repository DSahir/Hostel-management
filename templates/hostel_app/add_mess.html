<!DOCTYPE html>
{% extends "hostel_app/base.html" %}
{% load staticfiles %}

{% block body_block %}
<div>
  {% if not is_warden %}
    <h2 style="text-align:center;">Only warden can add new Mess</h2>
  {% else %}
    <!-- <h1>Add Hostel</h1> -->
    <div class="main-w3layouts wrapper">
      <div class="main-agileinfo">
        <div class="agileits-top">
          {% if mess_added %}
            <script>
            alert("Mess Added!!");
            </script>
          {% endif %}
          <form enctype="multipart/form-data" method="post">
            {% csrf_token %}
            {% if mess_form.errors %}
              <div class="alert alert-danger" role="alert">
                <div class="error">
                   <ul>
                     {% for key,value in mess_form.errors.items %}
                      {% for error in value %}
                        <li>{{ error }}</li>
                      {% endfor %}
                     {% endfor %}
                   </ul>
                </div>
              </div>
            {% endif %}
            <!-- MessForm -->

            <div class="form-group">
              <label for="id_mess_name"> Mess Name </label>
              <input required class="textarea-css" type="text" name="mess_name" placeholder="Mess Name" value="{% if mess_form.mess_name.value %}{{mess_form.mess_name.value}}{% else %}{% endif %}">
            </div>

            <div class="form-group">
              <label for="mess_type"> Mess Menu Type </label>
              <input required class="textarea-css" type="text" name="mess_type" placeholder="Mess Type" value="{% if mess_form.mess_type.value %}{{mess_form.mess_type.value}}{% else %}{% endif %}">
            </div>
            <div class="form-group">
                <label for="contractor"> Contractor Name </label>
                <input required class="textarea-css" type="text" name="contractor" placeholder="Mess Contractor" value="{% if mess_form.contractor.value %}{{mess_form.contractor.value}}{% else %}{% endif %}">
              </div>
  
              <div class="form-group">
                <label for="daily_fees">Daily Fees </label>
                <input required class="textarea-css" type="number" name="daily_fees" placeholder="Daily Fees" value="{% if mess_form.daily_fees.value %}{{mess_form.daily_fees.value}}{% else %}{% endif %}">
              </div>
  
            <!-- <div class="form-group"> -->
              <!-- Name attribute should match form attribute -->
              <!-- <label for="id_gender"> Gender </label>
              <select required id="id_gender" name="gender" placeholder="Gender" class="select-css">
                {% for value,key in hostel_form.fields.gender.choices %}
                    <option value="{{ value }}" {% if hostel_form.gender.value == value %} selected {% endif %}>
                        {{ key }}
                    </option>
                {% endfor %}
              </select>
            </div> -->
<!-- 
            <div class="form-group">
              <label for="id_mess"> Mess </label>
              <select required id="id_mess" name="mess" placeholder="Mess" class="select-css">
                {% for value,key in hostel_form.fields.mess.choices %}
                    <option value="{{ value }}"{% if hostel_form.mess.value == value %} selected {% endif %}>
                        {{ key }}
                    </option>
                {% endfor %}
              </select>
            </div> -->

            <!-- End HostelForm -->

            <input type="submit" class="reg_button" value="Add Mess">
          </form>
        </div>
      </div>
    </div>
  {% endif %}
</div>

{% endblock %}
